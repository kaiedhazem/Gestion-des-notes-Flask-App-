{% extends "layout.html" %}

{% block title %} Notes {% endblock title %}
{% block content %} 
<div class="row">
  <div class="col-2" style="background-color:beige;">
    <form action="" method="POST">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">
          <div class="form-group">
              {{ form.semestre.label(class="form-control-label") }}            
              {% if form.semestre.errors %}
                  {{ form.semestre(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.semestre.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.semestre(class="form-control form-control-lg") }}
              {% endif %}
          </div>
  
    
          <div class="form-group">
            {{ form.niveau.label(class="form-control-label") }}

            {% if form.niveau.errors %}
                {{ form.niveau(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.niveau.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.niveau(class="form-control form-control-lg") }}
            {% endif %}
        </div>
        <div class="form-group">
          {{ form.specialite.label(class="form-control-label") }}

          {% if form.specialite.errors %}
              {{ form.groupe(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                  {% for error in form.specialite.errors %}
                      <span>{{ error }}</span>
                  {% endfor %}
              </div>
          {% else %}
              {{ form.specialite(class="form-control form-control-lg") }}
          {% endif %}
      </div>
      </fieldset>
      <div class="modal-footer">
        <div style='float: right;' class="form-group">
          {{ form.submit(class="btn btn-outline-info") }}

      </div>
    </form>
  </div>
  
</div>
  <div class="col-8">
   
    <hr>
    <div class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list"> 
        <table class="table table-hover">
          <thead>
            <tr>
             
              <th>Etudiant</th>
              <th>Matiere</th>
              <th>Note DS</th>
              <th>Note Exam</th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% if users %}
            {% for user in users %}
            <tr>
             
              <form action="{{ url_for('ajouternote') }}" method="POST">
            <td>{{ user.nom }} {{user.prenom}} <input type="hidden" value="{{ user.id }}" name="userid"> </td>
           
            <td> <select name="mat">
              {% for matiere in matieres %}
              <option value="{{ matiere.id }}">{{ matiere.nom }}</option>
              {% endfor %}
            </select></td>
            <td><input name="ds" type="number" maxlength="4" max="20" min="0" step="0.25"/></td>
            <td><input name="examen" type="number" maxlength="4" max="20" min="0" step="0.25"/></td>
            <td><input type="submit" value="Enregistrer" class="btn btn-outline-info"/></td>
            <td><a href="{{ url_for('consulternote', user_id = user.id ,sem = sem) }}" class="btn btn-outline-info" >Verifier</a></td>
            </tr>
            {% endfor %}
            {% endif %}
    
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<style>

select
  {
      border: none;
      border-bottom: rgb(155, 160, 155);
      width: max-content;
      background-color: rgb(127, 129, 127);
      border-radius: 5px;
      color: white;
  }

  button
  {
    border: none;
      padding: 0.5%;
      background-color: #5070a7;
      border-radius: 5px;
      color: white;
  }

</style>
{% endblock content %}
